<div>
	<h4>{{ vm.currentAnnouncement.subject }}</h4>
	<div class="row">
		<community-message 
			message="vm.currentAnnouncement"
			reply-click-fn="vm.showReply"
			hide-vote-buttons="true">
		</community-message>

		<div class="row row--comfy">
			<div class="row row--comfy" ng-hide="!vm.replyInProgress">
				<div class="row row--comfy">
						<community-text-editor ng-model="vm.replyText" minimal-editor="true"></community-text-editor>
				</div>
				<div>
					<button 
						class="button-ghost button-white-blue" 
						ng-click="vm.cancelReply()">
							Cancel
					</button>
					<button 
						class="button-full button-blue-white"
						ng-click="vm.submitReply()">
							Submit Comment
					</button>
				</div>
			</div>
		</div>
	</div>

	<div class="row">
		<h4 ng-pluralize count="vm.commentData.total" when="{ '0': 'No comments', 'one': '1 comment', 'other': '{} comments' }"></h4>
		<hr />
		<div class="row" ng-repeat="comment in vm.currentComments">
			<div class="forumThreadMessageContainer">
				<div class="forumThreadMessage clearfix">
				<!-- message -->
					<div class="col--md10">
						<community-username user="comment.author"></community-username>
					</div>						
					<div class="forumThreadMain__posted col--md2">
						<h6 class="alignRight">{{ comment.postTime | timeFromNow }}</h6>
					</div>
					<div class="forumThreadMain__body col--md12" ng-bind-html="comment.body | sanitize">
					</div>
				</div>
			</div>
		</div>
		<community-load-more
			list-model="vm.currentComments"
			load-filter="vm.moreCommentsFilter"
			list-metadata="vm.commentData">
		</community-load-more>
	</div>
</div>