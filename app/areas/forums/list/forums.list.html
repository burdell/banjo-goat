<div class="community__forum__container">

  <div class="row row--comfy">
    <div class="community__forum__descriptor col--md9">
      FORUMS are the central hub of our community discussions and chatter. Voice your opinion, show what you're working on, and check out the cool things others are doing. And remember, we are all here to help each other!
    </div>
    <div class="community__forum__search col--md3">
      <div ng-hide="vm.hideSearch()">
          <community-search 
            search-filter="vm.forumListFilter" 
            placeholder="Search Forum"
            exclude="limit, offset">
         </community-search>
      </div>
    </div>
  </div>

  <div class="row row-comfy">
    <div class="col--md12">
      <div class="community__forum__threadcount ">
        <h4>Showing {{ vm.messageCount }} Results for {{ ::vm.currentNode.name }}</h4>
      </div>
    </div>
  </div>

  <div class="row">

  <div class="row row--comfy">

    <div class="col--md6">
      <button class="button-full button-blue-white">Start a Topic</button>
    </div>
    <div class="col--md6">
      <community-sort sort-options="vm.messageSortOptions" sort-filter="vm.forumListFilter" sort-exclude="limit, offset" class="community__sort"></community-sort>
    </div>
  </div>


  <div class="row">
    <div class="col--md12">

      <table class="community__forum__threadlist">
        <colgroup>
          <col class="community__forum__threadlist__col__topic">
          <col class="community__forum__threadlist__col__counter">
          <col class="community__forum__threadlist__col__counter">
          <col class="community__forum__threadlist__col__counter">
          <col class="community__forum__threadlist__col__reply">
        </colgroup>

        <thead class="community__forum__threadlist__head">
          <th class="community__forum__threadlist__head__topic">Topic</th>
          <th class="community__forum__threadlist__head__counter">Views</th>
          <th class="community__forum__threadlist__head__counter">Replies</th>
          <th class="community__forum__threadlist__head__counter">Kudos</th>
          <th class="community__forum__threadlist__head__reply">Latest Reply</th>
        </thead>

        <tbody>

          <tr class="community__forum__threadlist__message" ng-repeat="message in vm.messageList">
            <td class="community__forum__threadlist__message__topic">
              <div 
                community-tooltip
                data-id-field="{{ ::message.id }}" 
                ajax-populate="vm.getMessageData" 
                tooltip-template="forums/list/forums.list.messagetooltip.html">
                <a ui-sref="forums.message({messageId: message.id})">{{ ::message.subject }}</a>
              </div>
              <div class="community__forum__threadlist__message__by">
                <span>by <a ui-sref="user">{{ ::message.author.login }}</a></span> 
                <span>{{ ::message.postTime | timeFromNow }}</span>
              </div>
            </td>

            <td class="community__forum__threadlist__message__counter">
              {{  message.stats | extractKey : 'views' }}
            </td>
            <td class="community__forum__threadlist__message__counter">
              {{  message.stats | extractKey : 'comments' }}
            </td>
            <td class="community__forum__threadlist__message__counter">
              {{  message.stats | extractKey : 'kudos' }}
            </td>

            <td class="community__forum__threadlist__message__latestreply">
              <a>{{ ::message.latestReply.author.login }}</a>
              <span>{{ message.latestReply.postTime | timeFromNow }}</span>
            </td>
          </tr>

        </tbody>
      </table>


    </div>
  </div>

</div>