<div>
	<div class="row">
		<h4>{{ ::vm.originalMessage.subject }}</h4>
	</div>
	
	<div class="row row--comfy">
		<button>Follow Discussion</button>
		<button>Start a Discussion</button>
	</div>

	<div class="row row--comfy">
		<div ng-repeat="message in vm.messageThread" class="row row--comfy">
			<div class="row row--comfy " style="border: solid 1px gray">
				<div class="col--md2">
					<community-user-badge user="message.author"></community-user-badge>
				</div>
				<div class="col--md10">
					<div class="row">
						<div><h6>Posted {{ message.postTime | timeFromNow }}</h6></div>
						<div ng-bind-html="message.body | sanitize"></div>
					</div class="row row--comfy"> 
						<div class="col--md8">
							<button>{{ message.stats | extractKey : 'kudos' }} Kudos +</button>
							<button> Mark As Helpful</button>
						</div>
						<div class="col--md4">
							<button ng-click="vm.showReply(message.id)">Reply</button>
						</div>
					</div>
				</div>
				<div class="row row--comfy" ng-show="vm.currentReply === message.id">
					<div class="col--md2">
					</div>
					<div class="col--md10">
						<p>
							REPLY to <a href="#">{{ ::message.author.login }}</a>
						</p>
						<div>
							<community-text-editor></community-text-editor>
						</div>
						<div>
							<button>Cancel</button>
							<button>Submit Comment</button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<button>Start a Discussion</button>
		</div>

		 <div class="row">
		      <div class="col--md3">
		        <community-pager 
		          total-results="vm.allMessageCount" 
		          pager-fn="vm.messageThreadFilter">
		        </community-pager>
		      </div>
		  </div>

		<div class="row">
			<div class="col--md2">
			<span>{{ vm.originalMessage.stats | extractKey : 'currentlyViewing' }} other people are viewing this thread</span>
			</div>
		</div>
	</div>
</div>