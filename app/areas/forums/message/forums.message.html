
<!-- TESTING STYLE -->
 <style type="text/css" scoped>
    div.forumThreadMessage__linked
    {
      background-color: magenta;
    }
  </style>
<!-- TESTING STYLE -->

<div class="forumThread__subject
	          forumThread__subject--locked
	          forumThread__subject--active">
	<div class="row">
		<h3>{{ ::vm.originalMessage.subject | htmlUnescape }}</h3>
	</div>
</div>

<div class="forumThreadControl">
	<div class="row">
        <div class="col--md8 noPaddingLeft">
        	<button class="button--solid button--padded button-blue-white">Reply</button>
			<button class="button--outline button-gray-on-white">Options <span class="button--icon icon ubnt-icon--pointer-down"></button>
		</div>

		<div class="col--md4 noPaddingRight">
			<community-pager 
			  total-results="vm.allMessageCount" 
			  pager-fn="vm.messageThreadFilter">
			</community-pager>
		</div>
    </div>
</div>


<div class="forumThreadContainer">
	<div class="forumThreadMessage" ng-repeat="message in vm.messageThread" handle-image-error>
		<community-message 
			message="message"
			original-message="vm.originalMessage"
			reply-click-fn="vm.showReply"
			show-op="vm.originalMessage.author.id">
		</community-message>

		<!-- reply -->
		<div class="row row--comfy" ng-show="vm.messageIsBeingRepliedTo(message.id)">
				<div class="col--md2">
				</div>
				<div class="col--md10">
					<h6>REPLY to <a href="#">{{ ::message.author.login }}</a></h6>
					<div class="row row--comfy">
						<community-text-editor ng-model="vm.messageReplyText"></community-text-editor>
					</div>
					<div>
						<button 
							class="button-ghost button-white-blue" 
							ng-click="vm.cancelReply()">
								Cancel
						</button>
						<button 
							class="button-full button-blue-white"
							ng-click="vm.submitReply(message.id)">
								Submit Comment
						</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>



<div class="forumThreadMessage__main__bottomControls">
	<div class="row">
        <div class="col--md8 noPaddingLeft">
        	<button class="button--solid button-blue-white">Post Reply</button>
			<button class="button--outline button-gray-on-white">Options <span class="button--icon icon ubnt-icon--pointer-down"></button>
		</div>
		<div class="col--md4 noPaddingRight">
			<community-pager 
			  total-results="vm.allMessageCount" 
			  pager-fn="vm.messageThreadFilter">
			</community-pager>
		</div>
	</div>
</div>

<div class="cmuViewingCounter">
	<div class="row">
		<div class="cmuViewingCounter__count">
			5 {{ vm.originalMessage.stats | extractKey : 'currentlyViewing' }} users viewing this thread
		</div>
	</div>
</div>
