
<!-- TESTING STYLE -->
 <style type="text/css" scoped>
    div.forumThreadMessage__linked
    {
      background-color: magenta;
    }
  </style>
<!-- TESTING STYLE -->

<div class="forumThreadSubject">
	<div class="row">
		<h4>{{ ::vm.originalMessage.subject | htmlUnescape }}</h4>
	</div>
</div>

<div class="forumThreadControl">
	<div class="row">
        <div class="col--md6 noPaddingLeft">
	        <button class="button--solid button-blue-white">Create a Topic</button>

			<button class="button--ghost button-blue-white">Follow Topic</button>
		</div>

		<div class="col--md6 noPaddingRight">
			<community-pager 
			  total-results="vm.allMessageCount" 
			  pager-fn="vm.messageThreadFilter">
			</community-pager>
		</div>
    </div>
</div>



<div class="forumThreadMessageContainer" ng-repeat="message in vm.messageThread">
	<community-message 
		message="message"
		reply-click-fn="vm.showReply">
	</community-message>

	<!-- reply -->
	<div class="row row--comfy" ng-show="vm.messageIsBeingRepliedTo(message.id)">
			<div class="col--md2">
			</div>
			<div class="col--md10">
				<h6>REPLY to <a href="#">{{ ::message.author.login }}</a></h6>
				<div class="row row--comfy">
					<community-text-editor ng-model="vm.messageReplyText"></community-text-editor>
				</div>
				<div>
					<button 
						class="button-ghost button-white-blue" 
						ng-click="vm.cancelReply()">
							Cancel
					</button>
					<button 
						class="button-full button-blue-white"
						ng-click="vm.submitReply(message.id)">
							Submit Comment
					</button>
				</div>
			</div>
		</div>
	</div>



<div class="forumThreadMain__bottomControls">
	<div class="row">
		<div class="col--md6">
			<button class="button-full button-blue-white">Start a Discussion</button>
		</div>
		<div class="col--md6">
			<community-pager 
			  total-results="vm.allMessageCount" 
			  pager-fn="vm.messageThreadFilter">
			</community-pager>
		</div>
	</div>
</div>


<div class="forumThreadMain__activeCount ">
	<div class="row">
		<div class="activeCounter">
			<span>{{ vm.originalMessage.stats | extractKey : 'currentlyViewing' }}</span><span>other people are viewing this thread</span>
		</div>
	</div>
</div>
