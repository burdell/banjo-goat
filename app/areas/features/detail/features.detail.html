<div class="cmuFeatureDetails cmuThread">

	<div class="row">

		<div class="row">
			<div class="cmuFeatures__votes col--md2">
				<div class="cmuFeatures__votes__count">{{ vm.originalMessage.stats | extractKey: 'score' }}<span class="cmuFeatures__votes__caption">votes</span></div>
				<div class="cmuFeatures__votes__status {{ ::vm.getStatusCode(vm.originalMessage.statusType) }} ">
					{{ ::vm.getStatusText(vm.originalMessage.statusType) }}
				</div>
			</div>

			<div class="col--md10">
				<div class="cmuThread__subject">
					<div class="row">

						<div class="col--md10">
							<h3>{{ vm.originalMessage.subject }}</h3>
						</div>

						<div class="col--md2 alignRight">
							<community-sort sort-options="vm.messageSortOptions" sort-filter="vm.forumListFilter" sort-exclude="limit, offset"></community-sort>
						</div>

					</div>
				</div>

				<div class="cmuThread__stats">
					<div class="row">
						<div class="col--md12">
							<span class="cmuInlineInfo__data cmuThread__date" data-divider=" | "><span>Posted </span>{{ ::feature.discussion.postTime | timeFromNow }}</span>

							<div class="cmuThread__stat"><span class="cmuThread__stat__desc">Product:</span><span class="cmuThread__stat__status">{{ ::vm.productName }}</span></div>
							<div class="cmuThread__stat"><span class="cmuThread__stat__desc">Version:</span><span class="cmuThread__stat__status">{{ ::vm.getMetaValue('versionNumber') }}</span></div>
							<div class="cmuThread__stat"><span class="cmuThread__stat__desc">Issue #</span><span class="cmuThread__stat__status">{{ ::vm.getMetaValue('issueId') }}</span></div>
						</div>
					</div>
					
				</div>
			</div>
		</div>


		<div class="row cmuThread__controls">
			<span community-permissions>
				<div class="col--md1">
	        		<button class="button--solid button-white-on-green button--stretch">Vote</button>
	        	</div>
				<div class="col--md1">
	        		<button class="button--solid button--stretch">Reply</button>
	        	</div>
			</span>
			<div class="col--md4 col--mdOffset6">
				<community-pager 
				  total-results="vm.commentCount" 
				  pager-fn="vm.commentFilter">
				</community-pager>
			</div>
		</div>



		<div class="cmuThread__firstPost">

			<div class="cmuUserbadge
						cmuUserbadge--thin
						" ng-class="{ 'cmuUserbadge__op' : {{userbadge.opId === userbadge.displayUser.id}} } "  user="messageDisplay.message.author" op-id="messageDisplay.showOp">
				<div class="cmuUserbadge__account">

					<div class="cmuUserbadge__user row">

						<div class="cmuUserbadge__avatar ng-isolate-scope" user="userbadge.displayUser">
							<div class="cmuUserbadge__activity cmuUserbadge__activity--active"></div>
						</div>

						<span class="cmuUsername cmuUsername--ubnt" user="userbadge.displayUser" current-user="userbadge.currentUser">
							<a href="/users/259"><span class="cmuUsername__icon ubnt-icon--u"></span><span class="cmuUsername__login ng-binding">UBNT-Matt</span></a>
						</span>

						<div class="cmuUserbadge__rank">
							SuperUser 
						</div>

					</div>
				</div>


				<div class="cmuUserbadge__points">
					<div class="cmuUserbadge__kudos" title="Kudos"><span class="cmuIcon-kudos cmuIcon--inline"></span><span>152</span></div>
					<div class="cmuUserbadge__joined">702</div>
				</div>

				<div class="cmuUserbadge__info">
					<div class="cmuUserbadge__descriptors">
						<div class="cmuUserbadge__descriptor">San Francisco, CA</div>
						<div class="cmuUserbadge__descriptor">Joined 08-07-2008</div>
					</div>
				</div>
			</div>

			<div class="cmuMessage__data">
				<div class="cmuMessage__counter"></div>
				<div class="cmuMessage__date">{{ messageDisplay.message.postTime | exactTimeFromNow }}</div>
			</div>

			<div class="row">
				<div class="col--md12" ng-bind-html="vm.originalMessage.body | sanitize"></div>
			</div>

		</div>

	</div>

	<div class="row">
		<div ng-repeat="comment in vm.commentList">
			<community-message 
				message="comment"
				reply-click-fn="vm.showReply"
				show-op="vm.originalMessage.author.id"
				upvote-only="true">
			</community-message>
		</div>
	</div>

	<div class="row">
		<div class="col--md2 noPadding">
			<span community-permissions>
	        	<button class="button--solid button--stretch button-blue-white">Reply</button>
			</span>
		</div>
		<div class="col--md4 col--mdOffset6 noPadding">
			<community-pager 
			  total-results="vm.commentCount" 
			  pager-fn="vm.commentFilter">
			</community-pager>
		</div>
	</div>

</div>